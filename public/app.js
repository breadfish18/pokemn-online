/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./appEntry.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./Graphics.js":
/*!*********************!*\
  !*** ./Graphics.js ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function () {\n    \"use strict\";\n\n\n    var util = {\n        compileShader: function (gl, shaderSource, shaderType) {\n            var shader = gl.createShader(shaderType);\n            gl.shaderSource(shader, shaderSource);\n            gl.compileShader(shader);\n            var success = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n            if (!success) {\n                throw new Error(\"could not compile shader:\" + gl.getShaderInfoLog(shader));\n            }\n            return shader;\n        },\n\n        createProgram: function (gl, vertexShader, fragmentShader) {\n            var program = gl.createProgram();\n            gl.attachShader(program, vertexShader);\n            gl.attachShader(program, fragmentShader);\n            gl.linkProgram(program);\n            var success = gl.getProgramParameter(program, gl.LINK_STATUS);\n            if (!success) {\n                throw new Error(\"program filed to link:\" + gl.getProgramInfoLog(program));\n            }\n            return program;\n        },\n\n        createShaderFromScript: function (gl, scriptId, opt_shaderType) {\n            // look up the script tag by id.\n            var shaderScript = document.getElementById(scriptId);\n            var shaderSource = shaderScript.text;\n            if (!opt_shaderType) {\n                if (shaderScript.type === \"x-shader/x-vertex\") {\n                    opt_shaderType = gl.VERTEX_SHADER;\n                } else if (shaderScript.type === \"x-shader/x-fragment\") {\n                    opt_shaderType = gl.FRAGMENT_SHADER;\n                } else {\n                    throw new Error(\"Unreachable\");\n                }\n            }\n            return this.compileShader(gl, shaderSource, opt_shaderType);\n        },\n\n        createProgramFromScripts: function (gl, vertexShaderId, fragmentShaderId) {\n            var vertexShader = this.createShaderFromScript(gl, vertexShaderId);\n            var fragmentShader = this.createShaderFromScript(gl, fragmentShaderId);\n            return this.createProgram(gl, vertexShader, fragmentShader);\n        },\n\n        createTexture: function (gl, size) {\n            var texture = gl.createTexture();\n            gl.bindTexture(gl.TEXTURE_2D, texture);\n            var tempPixels = new Uint16Array(size * size);\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, size, size, 0, gl.RGBA, gl.UNSIGNED_SHORT_5_5_5_1, tempPixels);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n            return texture;\n        },\n\n        updateTexture: function (gl, texture, width, height, pixels) {\n            gl.bindTexture(gl.TEXTURE_2D, texture);\n            gl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0,\n                width, height, gl.RGBA, gl.UNSIGNED_SHORT_5_5_5_1, pixels);\n        },\n\n        createFullscreenQuad: function (gl, lower, upper) {\n            var fullscreenQuadBuffer = gl.createBuffer();\n            gl.bindBuffer(gl.ARRAY_BUFFER, fullscreenQuadBuffer);\n            gl.bufferData(\n                gl.ARRAY_BUFFER,\n                new Float32Array([\n                    lower, lower,\n                    upper, lower,\n                    lower, upper,\n                    lower, upper,\n                    upper, lower,\n                    upper, upper\n                ]),\n                gl.STATIC_DRAW);\n            return fullscreenQuadBuffer;\n        },\n\n    };\n\n\n\n\n\n\n\n\n    var GBA_WIDTH = 240;\n    var GBA_HEIGHT = 160;\n    var TEXTURE_SIZE = 256;\n\n    function VBAGraphics(emscriptenModule, canvas) {\n        this.emscriptenModule = emscriptenModule;\n        this.canvas = canvas;\n\n        this.totalFrames = 0;\n        this.lastFrameTime = window.performance.now();\n\n        // Webgl assets\n        this.gl = null;\n        this.fullscreenQuadBuffer = null;\n        this.texture = null;\n        this.shaderProgram = null;\n        this.positionLocation = null;\n        this.textureSamplerLocation = null;\n\n        // Temporary buffer to store pixels as they're being\n        // sub'd into the texture.\n        this.pixels = new Uint16Array(GBA_WIDTH * GBA_HEIGHT);\n\n    }\n    VBAGraphics.prototype = Object.create(Object.prototype);\n    VBAGraphics.prototype.constructor = VBAGraphics;\n\n    VBAGraphics.prototype.initScreen = function () {\n\n        // Get webgl\n        this.gl = this.canvas.getContext(\"webgl\", {\n                alpha: false\n            }) ||\n            this.canvas.getContext(\"experimental-webgl\", {\n                alpha: false\n            });\n\n        if (!this.gl) {\n            return false;\n        }\n\n        // Set up assets\n        this.shaderProgram = util.createProgramFromScripts(this.gl, \"2d-vertex-shader\", \"2d-fragment-shader\");\n        this.texture = util.createTexture(this.gl, TEXTURE_SIZE);\n        this.fullscreenQuadBuffer = util.createFullscreenQuad(this.gl, 0, 1);\n\n        // Get locations\n        this.positionLocation = this.gl.getAttribLocation(this.shaderProgram, \"a_position\");\n        this.textureSamplerLocation = this.gl.getUniformLocation(this.shaderProgram, \"u_sampler\");\n\n        return true;\n    };\n\n\n\n    VBAGraphics.prototype.drawGBAFrame = function (gbaPointer8) {\n\n        var deltaTime = window.performance.now() - this.lastFrameTime;\n        vbaPerf.renderDeadlineResultsThisSecond.push(window.hasRequestedFrameButNotRendered);\n        window.hasRequestedFrameButNotRendered = false;\n        this.lastFrameTime = window.performance.now();\n\n        var gbaPointer16 = gbaPointer8 / 2;\n        var gbaHeap16 = this.emscriptenModule.HEAP16;\n        for (var i = 0; i < this.pixels.length; i++) {\n            this.pixels[i] = gbaHeap16[gbaPointer16 + i];\n        }\n        util.updateTexture(this.gl, this.texture, GBA_WIDTH, GBA_HEIGHT, this.pixels);\n        this.drawFrame();\n        this.totalFrames++;\n    };\n\n    VBAGraphics.prototype.drawFrame = function () {\n\n        // Bind shader\n        this.gl.useProgram(this.shaderProgram);\n\n        // Bind verts\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.fullscreenQuadBuffer);\n        this.gl.enableVertexAttribArray(this.positionLocation);\n        this.gl.vertexAttribPointer(this.positionLocation, 2, this.gl.FLOAT, false, 0, 0);\n\n        // Bind texture\n        this.gl.activeTexture(this.gl.TEXTURE0);\n        this.gl.bindTexture(this.gl.TEXTURE_2D, this.texture);\n        this.gl.uniform1i(this.textureSamplerLocation, 0);\n\n        // Draw\n        this.gl.drawArrays(this.gl.TRIANGLES, 0, 6);\n\n    };\n\n\n\n    VBAGraphics.prototype.onResize = function ( /*windowWidth, windowHeight*/ ) {\n        var canvas = this.canvas;\n        //        canvas.style.top = canvas.style.bottom = canvas.style.left = canvas.style.right = \"0\";\n        //        canvas.style.width = \"\";\n        //        canvas.style.height = \"\";\n        //\n        //        var aspect = GBA_WIDTH / GBA_HEIGHT;\n        //\n        //        if (windowWidth < windowHeight * aspect) {\n        //            // Change width\n        //            var offset = (windowHeight - (windowWidth / aspect)) / 2;\n        //            canvas.style.top = canvas.style.bottom = offset + \"px\";\n        //            canvas.style.width = \"100%\";\n        //        }\n        //        if (windowHeight < windowWidth / aspect) {\n        //            // Change height\n        //            var offset = (windowWidth - (windowHeight * aspect)) / 2;\n        //            canvas.style.left = canvas.style.right = offset + \"px\";\n        //            canvas.style.height = \"100%\";\n        //        }\n        canvas.width = 960;\n        canvas.height = 640;\n        this.gl.viewport(0, 0, canvas.width, canvas.height);\n    };\n\n\n    module.exports = VBAGraphics;\n\n\n}());\n\n//# sourceURL=webpack:///./Graphics.js?");

/***/ }),

/***/ "./Input.js":
/*!******************!*\
  !*** ./Input.js ***!
  \******************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function () {\n    \"use strict\";\n    \n    var defaultBindings = {}; \n\n    defaultBindings.KEY_BUTTON_A = {\n        friendlyName: \"A\",\n        codes: [\"KeyZ\"],\n        keyCodes: [90],\n    };\n    defaultBindings.KEY_BUTTON_B = {\n        friendlyName: \"B\",\n        codes: [\"KeyX\"],\n        keyCodes: [88],\n    };\n    defaultBindings.KEY_BUTTON_SELECT = {\n        friendlyName: \"Select\",\n        codes: [\"Backspace\"],\n        keyCodes: [8],\n    };\n    defaultBindings.KEY_BUTTON_START = {\n        friendlyName: \"Start\",\n        codes: [\"Enter\"],\n        keyCodes: [13],\n    };\n    defaultBindings.KEY_RIGHT = {\n        friendlyName: \"Right\",\n        codes: [\"ArrowRight\"],\n        keyCodes: [39],\n    };\n    defaultBindings.KEY_LEFT = {\n        friendlyName: \"Left\",\n        codes: [\"ArrowLeft\"],\n        keyCodes: [37],\n    };\n    defaultBindings.KEY_UP = {\n        friendlyName: \"Up\",\n        codes: [\"ArrowUp\"],\n        keyCodes: [38],\n    };\n    defaultBindings.KEY_DOWN = {\n        friendlyName: \"Down\",\n        codes: [\"ArrowDown\"],\n        keyCodes: [40],\n    };\n    defaultBindings.KEY_BUTTON_R = {\n        friendlyName: \"R\",\n        codes: [\"Control\"],\n        keyCodes: [17],\n    };\n    defaultBindings.KEY_BUTTON_L = {\n        friendlyName: \"L\",\n        codes: [\"Shift\"],\n        keyCodes: [16],\n    };\n    defaultBindings.PERF_STATS = {\n        friendlyName: \"Performance Stats\",\n        codes: [\"Backquote\"],\n        keyCodes: [192],\n    };\n    defaultBindings.PAUSE = {\n        friendlyName: \"Pause\",\n        codes: [\"Escape\"],\n        keyCodes: [27],\n    };\n    \n\n    function VBAInput() {\n        \n        \n        this.downCodes = {};\n        this.downKeyCodes = {};\n        window.addEventListener(\"keydown\", function (e) {\n\n            var wasPerfKeyDownBefore = this.isKeyDown(this.bindings.PERF_STATS);\n            var wasPauseKeyDownBefore = this.isKeyDown(this.bindings.PAUSE);\n\n            this.downCodes[e.code] = 1;\n            this.downKeyCodes[e.keyCode] = 1;\n\n            var isPerfKeyDownNow = this.isKeyDown(this.bindings.PERF_STATS);\n            if (!wasPerfKeyDownBefore && isPerfKeyDownNow) {\n                window.doPerfCalc();\n            }\n            var isPauseKeyDownNow = this.isKeyDown(this.bindings.PAUSE);\n            if (!wasPauseKeyDownBefore && isPauseKeyDownNow) {\n                window.togglePause();\n            }\n\n            return false;\n        }.bind(this));\n        window.addEventListener(\"keyup\", function (e) {\n\n            var wasPerfKeyDownBefore = this.isKeyDown(this.bindings.PERF_STATS);\n\n            this.downCodes[e.code] = 0;\n            this.downKeyCodes[e.keyCode] = 0;\n            \n            var isPerfKeyDownNow = this.isKeyDown(this.bindings.PERF_STATS);\n            if (wasPerfKeyDownBefore && !isPerfKeyDownNow) {\n                window.doPerfCalc();\n            }\n\n            return false;\n        }.bind(this));\n        \n        this.bindings = null;\n        this.loadBindings();\n        if (this.bindings === null) {\n            this.resetBindings();\n        }\n        \n    }\n    VBAInput.prototype = Object.create(Object.prototype);\n    VBAInput.prototype.constructor = VBAInput;\n    \n    \n    VBAInput.prototype.listBindings = function () {\n        return Object.keys(this.bindings).map(function (v) {\n            return {\n                name: v,\n                friendlyName: this.bindings[v].friendlyName,\n                codes: this.bindings[v].codes,\n            };\n        }.bind(this));\n    };\n    \n    \n    VBAInput.prototype.setBinding = function (name, code, keyCode) {\n        this.bindings[name].codes = [code];\n        this.bindings[name].keyCodes = [keyCode];\n        this.saveBindings();\n    };\n    \n    VBAInput.prototype.loadBindings = function (antiInfiniteLoopJustInCase) {\n        this.bindings = JSON.parse(localStorage.VBABindings || \"null\") || defaultBindings;\n        if (Object.keys(this.bindings).sort().join() !== Object.keys(defaultBindings).sort().join()) {\n            // Binding keys are wrong\n            if (antiInfiniteLoopJustInCase) {\n                return;\n            }\n            this.resetBindings(true);\n        }\n    };\n    \n    VBAInput.prototype.saveBindings = function () {\n        localStorage.VBABindings = JSON.stringify(this.bindings); \n    };\n    \n    VBAInput.prototype.resetBindings = function (antiInfiniteLoopJustInCase) {\n        this.bindings = defaultBindings;\n        // Lazy clone bindings object\n        this.saveBindings();\n        this.loadBindings(antiInfiniteLoopJustInCase);\n    };\n    \n    VBAInput.prototype.isKeyDown = function (binding) {\n        var i;\n        for (i = 0; i < binding.codes.length; i++) {\n            if (this.downCodes[binding.codes[i]]) {\n                return true;\n            }\n        }\n        for (i = 0; i < binding.keyCodes.length; i++) {\n            if (this.downKeyCodes[binding.keyCodes[i]]) {\n                return true;\n            }\n        }\n        return false;\n    };\n    \n    \n    VBAInput.prototype.getJoypad = function () {\n        var res = 0;\n        \n        if (this.isKeyDown(this.bindings.KEY_BUTTON_A)) {\n            res |= 1;\n        }\n        if (this.isKeyDown(this.bindings.KEY_BUTTON_B)) {\n            res |= 2;\n        }\n        if (this.isKeyDown(this.bindings.KEY_BUTTON_SELECT)) {\n            res |= 4;\n        }\n        if (this.isKeyDown(this.bindings.KEY_BUTTON_START)) {\n            res |= 8;\n        }\n        if (this.isKeyDown(this.bindings.KEY_RIGHT)) {\n            res |= 16;\n        }\n        if (this.isKeyDown(this.bindings.KEY_LEFT)) {\n            res |= 32;\n        }\n        if (this.isKeyDown(this.bindings.KEY_UP)) {\n            res |= 64;\n        }\n        if (this.isKeyDown(this.bindings.KEY_DOWN)) {\n            res |= 128;\n        }\n        if (this.isKeyDown(this.bindings.KEY_BUTTON_R)) {\n            res |= 256;\n        }\n        if (this.isKeyDown(this.bindings.KEY_BUTTON_L)) {\n            res |= 512;\n        }\n\n        // disallow L+R or U+D from being pressed at the same time\n        if ((res & 48) === 48) {\n            res &= ~48;\n        }\n        if ((res & 192) === 192) {\n            res &= ~192;\n        }\n\n        return res;\n    };\n    \n    \n    \n    module.exports = VBAInput;\n    \n    \n}());\n\n//# sourceURL=webpack:///./Input.js?");

/***/ }),

/***/ "./Saves.js":
/*!******************!*\
  !*** ./Saves.js ***!
  \******************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("(function () {\n    \"use strict\";\n    \n    var MODE_LOCAL = \"local\";\n    var MODE_DRIVE = \"drive\";\n    \n    var saveAs = __webpack_require__(/*! ./saveAs */ \"./saveAs.js\").saveAs;\n    \n    function VBASaves(emscriptenModule) {\n        this.emscriptenModule = emscriptenModule;\n        \n        this.mode = MODE_LOCAL;\n        \n        this.safeSaveTimeout = null;\n        this.unsafeSaveTimeout = null;\n        this.unsafeSaveBuffer = null;\n        this.localStoragePrefix = \"VBAsave_\";\n        this.lastWarningTime = 0;\n\n    }\n    VBASaves.prototype = Object.create(Object.prototype);\n    VBASaves.prototype.constructor = VBASaves;\n    \n    \n    VBASaves.prototype.getRomCode = function () {\n        var heapu8 = this.emscriptenModule.HEAPU8;\n        var romAddress8 = VBAInterface.VBA_get_rom();\n        var romCode = String.fromCharCode(\n            heapu8[romAddress8 + 0xAC], heapu8[romAddress8 + 0xAD],\n            heapu8[romAddress8 + 0xAE], heapu8[romAddress8 + 0xAF]\n        ).replace(/[^ -~]/g, function () { return \"?\"; });\n        return romCode;\n    };\n    \n    \n    VBASaves.prototype.getSave = function (romCode) {\n        // If no rom code supplied, use the currently loaded game\n        romCode = romCode || this.getRomCode();\n        var base64 = localStorage[this.localStoragePrefix + romCode];\n        if (!base64) {\n            return null;\n        }\n        return new Uint8Array(atob(base64).split(\"\").map(function(c) {\n            return c.charCodeAt(0);\n        }));\n    };\n\n    VBASaves.prototype.getSaveSize = function () {\n        var save = this.getSave();\n        return save ? save.byteLength : 0;\n    };\n\n    VBASaves.prototype.softCommit = function (pointer8, size) {\n        var heapu8 = this.emscriptenModule.HEAPU8;\n        var bufu8 = new Uint8Array(size);\n        for (var i = 0; i < size; i++) {\n            bufu8[i] = heapu8[pointer8 + i];\n        }\n        this.unsafeSaveBuffer = bufu8;\n    };\n\n    VBASaves.prototype.hardCommit = function (romCode, uint8Array) {\n        var binary = \"\";\n        var len = uint8Array.byteLength;\n        for (var i = 0; i < len; i++) {\n            binary += String.fromCharCode( uint8Array[i]);\n        }\n        try {\n            localStorage[this.localStoragePrefix + romCode] = window.btoa(binary);\n        } catch (e) {\n            if (window.isShittyLocalstorage) {\n                return; // User is already warned.\n            }\n            if (this.lastWarningTime < Date.now() - 5000) {\n                this.lastWarningTime = Date.now();\n                console.error(\"Unable to save because the storage quota is exceeded. Try opening a new gba.ninja tab and deleting some saves, then save again.\");\n            }\n        }\n    };\n\n    VBASaves.prototype.restoreSaveMemory = function (pointer8, targetBufferSize) {\n        var save = this.getSave();\n        if (!save) {\n            return;\n        }\n        \n        if (save.byteLength !== targetBufferSize) {\n            throw new Error(\"Incompatible save size\");\n        }\n        \n        var heap8 = this.emscriptenModule.HEAPU8;\n        for (var i = 0; i < targetBufferSize; i++) {\n            heap8[pointer8 + i] = save[i];\n        }\n\n    };\n    \n    VBASaves.prototype.checkSaves = function () {\n        if (VBAInterface.VBA_get_systemSaveUpdateCounter()) {\n\n            // Copy the save to a temporary buffer if it's\n            // recently updated.\n            if (!this.unsafeSaveTimeout) {\n                this.unsafeSaveTimeout = setTimeout(function () {\n                    this.unsafeSaveTimeout = null;\n                    if (VBAInterface.VBA_get_emulating()) {\n                        console.log(\"[SAVE] changes detected\");\n                        VBAInterface.VBA_emuWriteBattery();\n                        VBAInterface.VBA_reset_systemSaveUpdateCounter();\n                    }\n                }.bind(this), 32);\n            }\n            \n        }\n\n        // Commit the save to localstorage if it hasn't been\n        // changed in a while.\n        if (this.unsafeSaveBuffer) {\n            var tempUnsafeSaveBuffer = this.unsafeSaveBuffer;\n            this.unsafeSaveBuffer = null;\n            clearTimeout(this.safeSaveTimeout);\n            this.safeSaveTimeout = setTimeout(function () {\n                this.safeSaveTimeout = null;\n                if (VBAInterface.VBA_get_emulating()) {\n                    this.hardCommit(this.getRomCode(), tempUnsafeSaveBuffer);\n                    console.log(\"[SAVE] changes committed\");\n                } else {\n                    console.log(\"[SAVE] changes discarded, emulator not running\");\n                }\n            }.bind(this), 70);\n        }\n        \n    };\n    \n    VBASaves.prototype.exportSave = function (romCode) {\n        var save = this.getSave(romCode);\n        if (!save) {\n            throw new Error(\"No save found for \" + romCode);\n        }\n        var blob = new Blob([save], {contentType: \"application/octet-stream\"});\n        saveAs(blob, romCode + \" \" + __webpack_require__(/*! ./romCodeToEnglish */ \"./romCodeToEnglish.js\")(romCode) + \".sav\", true);\n    };\n    \n    VBASaves.prototype.deleteSave = function (romCode) {\n        delete localStorage[this.localStoragePrefix + romCode];\n    };\n    \n    VBASaves.prototype.onFileImportInputChanged = function (e, callback) {\n\n        var binaryFile = e.currentTarget.files[0];\n        e.currentTarget.form.reset();\n        \n        if (binaryFile) {\n            var fr = new FileReader();\n            fr.readAsArrayBuffer(binaryFile);\n            fr.onload = function () {\n\n\t\t\t\tvar romCodeValidator = /^[A-Z1-9]{4}/;\n                var romCode = binaryFile.name.substr(0, 4);\n\n                var romCodeOk = function () {\n                    this.importSave(romCode, new Uint8Array(fr.result));\n                    callback();\n                }.bind(this);\n                var romCodeNotOk = function () {\n                    return console.error(\"Invalid ROM Code\");\n                }.bind(this);\n\n                if (romCode.search(romCodeValidator) === -1) {\n                } else {\n                    romCodeOk();\n                }\n\n            }.bind(this);\n        }\n    };\n    \n    \n    VBASaves.prototype.listSaves = function () {\n        return Object.keys(localStorage).filter(function (v) {\n            return v.indexOf(this.localStoragePrefix) === 0;\n        }.bind(this)).map(function (v) {\n            return {\n                romCode: v.substr(this.localStoragePrefix.length, 4),\n            };\n        }.bind(this));\n    };\n    \n    VBASaves.prototype.importSave = function (romCode, byteArray) {\n        this.hardCommit(romCode, byteArray);\n    };\n    \n    \n    module.exports = VBASaves;\n    \n    \n}());\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack:///./Saves.js?");

/***/ }),

/***/ "./Sound.js":
/*!******************!*\
  !*** ./Sound.js ***!
  \******************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function () {\n    \"use strict\";\n\n    function VBASound(emscriptenModule) {\n\n        this.emscriptenModule = emscriptenModule;\n\n        var AudioContext = window.AudioContext || window.webkitAudioContext;\n        this.audioCtx = new AudioContext();\n        this.audioChannels = 2;\n        this.audioScriptNode = this.audioCtx.createScriptProcessor(512, 2);\n        this.audioScriptNode.onaudioprocess = this.handleAudioEvent.bind(this);\n        this.audioGainNode = this.audioCtx.createGain();\n        this.audioGainNode.gain.value = 0.1;\n        this.audioScriptNode.connect(this.audioGainNode);\n        this.audioGainNode.connect(this.audioCtx.destination);\n        this.audioSpareSamplesRingBuffer = new Int16Array(1024 * 16);\n        this.audioSpareWritePtr = 0;\n        this.audioSpareReadPtr = 0;\n        this.spareSamplesAtLastEvent = 0;\n\n    }\n    VBASound.prototype = Object.create(Object.prototype);\n    VBASound.prototype.constructor = VBASound;\n\n    VBASound.prototype.getSampleRate = function () {\n        return this.audioCtx.sampleRate;\n    };\n\n    VBASound.prototype.currentAudioTime = function () {\n        return this.audioCtx.currentTime;\n    };\n\n    VBASound.prototype.getNumExtraSamples = function () {\n        var samples = this.audioSpareWritePtr - this.audioSpareReadPtr;\n        return samples >= 0 ? samples : (samples + this.audioSpareSamplesRingBuffer.length);\n    };\n\n    VBASound.prototype.resetSound = function () {};\n\n    VBASound.prototype.writeSound = function (pointer8, length16) {\n\n        if (pointer8 % 2 === 1) {\n            console.error(\"Audio pointer must be 16 bit aligned.\");\n            return;\n        }\n        if (length16 % 2 !== 0) {\n            console.error(\"Number of audio samples must be even.\");\n            return;\n        }\n        var pointer16 = pointer8 >> 1;\n        var heap16 = this.emscriptenModule.HEAP16;\n        var i;\n\n        for (i = 0; i < length16; i++) {\n            this.audioSpareSamplesRingBuffer[this.audioSpareWritePtr] = heap16[pointer16 + i];\n            this.audioSpareWritePtr++;\n            if (this.audioSpareWritePtr >= this.audioSpareSamplesRingBuffer.length) {\n                this.audioSpareWritePtr = 0;\n            }\n        }\n\n    };\n\n    VBASound.prototype.handleAudioEvent = function (event) {\n\n        if (!hasEmuModule() || !VBAInterface.VBA_get_emulating()) {\n            return;\n        }\n\n        var audioBuffers = [];\n        var numChannels = event.outputBuffer.numberOfChannels;\n        var requiredSamples = event.outputBuffer.length;\n        var deadlineResult = 1; // Hit\n        var i, channel;\n\n        for (i = 0; i < numChannels; i++) {\n            audioBuffers.push(event.outputBuffer.getChannelData(i));\n        }\n\n        for (i = 0; i < requiredSamples; i++) {\n            for (channel = 0; channel < numChannels; channel++) {\n                if (this.audioSpareReadPtr === this.audioSpareWritePtr) {\n                    audioBuffers[channel][i] = 0;\n                    deadlineResult = 0; // Miss\n                } else {\n                    audioBuffers[channel][i] = this.audioSpareSamplesRingBuffer[this.audioSpareReadPtr] / 0x4000;\n                    this.audioSpareReadPtr++;\n                    if (this.audioSpareReadPtr >= this.audioSpareSamplesRingBuffer.length) {\n                        this.audioSpareReadPtr -= this.audioSpareSamplesRingBuffer.length;\n                    }\n                }\n            }\n        }\n\n        this.spareSamplesAtLastEvent = this.getNumExtraSamples();\n        vbaPerf.spareAudioSamplesThisSecond.push(this.spareSamplesAtLastEvent);\n\n        vbaPerf.audioDeadlineResultsThisSecond.push(deadlineResult);\n\n        var frameNum = window.frameNum;\n        setTimeout(function () {\n            window.doTimestep(frameNum + 1);\n        }, 0);\n\n\n    };\n\n    // Implementation for browsers without audio support\n    function IE_VBASound(emscriptenModule) {\n        this.emscriptenModule = emscriptenModule;\n    }\n    IE_VBASound.prototype = Object.create(Object.prototype);\n    IE_VBASound.prototype.constructor = IE_VBASound;\n\n    IE_VBASound.prototype.getSampleRate = function () {\n        return 44100;\n    };\n\n    IE_VBASound.prototype.currentAudioTime = function () {\n        return Date.now() / 1000;\n    };\n\n    IE_VBASound.prototype.getNumExtraSamples = function () {\n        return 0;\n    };\n\n    IE_VBASound.prototype.resetSound = function () {};\n\n    IE_VBASound.prototype.writeSound = function () {};\n\n    IE_VBASound.prototype.handleAudioEvent = function () {};\n\n\n    if (window.AudioContext) {\n        module.exports = VBASound;\n    } else {\n        module.exports = IE_VBASound;\n    }\n\n}());\n\n//# sourceURL=webpack:///./Sound.js?");

/***/ }),

/***/ "./appEntry.js":
/*!*********************!*\
  !*** ./appEntry.js ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var VBAGraphics = __webpack_require__(/*! ./Graphics */ \"./Graphics.js\");\nvar VBASound = __webpack_require__(/*! ./Sound */ \"./Sound.js\");\nvar VBASaves = __webpack_require__(/*! ./Saves */ \"./Saves.js\");\nvar VBAInput = __webpack_require__(/*! ./Input */ \"./Input.js\");\n\nvar isRunning = false;\nvar isPaused = false;\n\n\n\nwindow.init = function () {\n\n    document.querySelector(\".pixels\").innerHTML = '<canvas width=\"240\" height=\"160\"></canvas>';\n\n    window.vbaGraphics = new VBAGraphics(window.gbaninja, document.querySelector(\"canvas\"));\n    var res = window.vbaGraphics.initScreen();\n\n    if (!res) {\n        window.vbaGraphics = null;\n        document.querySelector(\".pixels\").innerHTML = \"<p style='margin: 20px;'>You need to enable WebGL</p>\";\n        return;\n    }\n\n    window.vbaGraphics.drawFrame();\n\n    window.vbaSound = new VBASound(window.gbaninja);\n    window.vbaSaves = new VBASaves(window.gbaninja);\n    window.vbaInput = new VBAInput(window.gbaninja);\n\n    document.querySelector(\".pixels\").style.display = \"none\";\n\n    window.doPerfCalc();\n\n};\n\n\nwindow.start = function () {\n    if (window.isRunning) {\n        throw new Error(\"Already started\");\n    }\n\n    if (!window.vbaGraphics) {\n        // webgl is disabled\n        return;\n    }\n\n    document.querySelector(\".pixels\").style.display = \"block\";\n\n    var onResize = window.vbaGraphics.onResize.bind(window.vbaGraphics, window.innerWidth, window.innerHeight);\n    window.onresize = onResize;\n    onResize();\n\n    VBAInterface.VBA_start();\n\n    isRunning = true;\n    window.focusCheck();\n    window.doTimestep(window.frameNum + 1);\n\n\n\n};\n\nvar GBA_CYCLES_PER_SECOND = 16780000;\n// var GBA_CYCLES_PER_SECOND = 16777216;\nvar TARGET_FRAMERATE = 60;\nwindow.lastFrameTime = window.performance.now();\nwindow.frameTimeout = null;\nwindow.animationFrameRequest = null;\nwindow.frameNum = 1;\nwindow.lastFocusTime = 0;\n\nwindow.vbaPerf = {};\nvbaPerf.deltaTimesThisSecond = [];\nvbaPerf.cyclesThisSecond = [];\nvbaPerf.renderDeadlineResultsThisSecond = [];\nvbaPerf.spareAudioSamplesThisSecond = [];\nvbaPerf.audioDeadlineResultsThisSecond = [];\n\nwindow.doTimestep = function (frameNum, mustRender) {\n\n    if (!hasEmuModule()) {\n        return;\n    }\n\n    if (frameNum !== window.frameNum + 1) {\n        return;\n    }\n    window.frameNum = frameNum;\n\n    var currentTime = window.performance.now();\n    var deltaTime = currentTime - lastFrameTime;\n    var clampedDeltaTime = Math.min(50, deltaTime);\n\n    if (currentTime - window.lastFocusTime > 100 || deltaTime < 0.1) {\n        window.animationFrameRequest = window.requestAnimationFrame(function () {\n            window.doTimestep(frameNum + 1);\n        });\n        return;\n    }\n    lastFrameTime = currentTime;\n\n    if (isRunning) {\n        vbaSaves.checkSaves();\n\n        var cyclesToDo = Math.floor(GBA_CYCLES_PER_SECOND / (1000 / clampedDeltaTime));\n        if (vbaSound.spareSamplesAtLastEvent > 1000) {\n            cyclesToDo -= Math.floor(Math.min(cyclesToDo * 0.03, GBA_CYCLES_PER_SECOND / 10000));\n        }\n        if (vbaSound.spareSamplesAtLastEvent < 700) {\n            cyclesToDo += Math.floor(Math.min(cyclesToDo * 0.03, GBA_CYCLES_PER_SECOND / 10000));\n        }\n        if (!isPaused) {\n            VBAInterface.VBA_do_cycles(cyclesToDo);\n        }\n\n        vbaPerf.deltaTimesThisSecond.push(deltaTime);\n        vbaPerf.cyclesThisSecond.push(cyclesToDo);\n\n        clearTimeout(window.frameTimeout);\n        window.frameTimeout = setTimeout(function () {\n            window.doTimestep(frameNum + 1);\n        }, 1000 / TARGET_FRAMERATE);\n        cancelAnimationFrame(window.animationFrameRequest);\n        window.animationFrameRequest = window.requestAnimationFrame(function () {\n            window.doTimestep(frameNum + 1);\n        });\n\n    } else if (VBAInterface.VBA_get_emulating()) {\n        VBAInterface.VBA_stop();\n        document.querySelector(\".pixels\").style.display = \"none\";\n    }\n\n};\n\nwindow.hasRequestedFrameButNotRendered = false;\nwindow.focusCheck = function () {\n    window.lastFocusTime = window.performance.now();\n    window.hasRequestedFrameButNotRendered = true;\n    window.requestAnimationFrame(window.focusCheck);\n};\n\nwindow.perfTimer = null;\nwindow.lastPerfTime = performance.now();\nwindow.doPerfCalc = function () {\n\n    clearTimeout(window.perfTimer);\n\n    var currentTime = window.performance.now();\n    var deltaTime = currentTime - lastPerfTime;\n    window.lastPerfTime = currentTime;\n\n    if (hasEmuModule() && window.vbaInput.isKeyDown(vbaInput.bindings.PERF_STATS)) {\n\n        // document.querySelector(\".perf\").style.display = \"block\";\n\n        function samplesToMillis(samples) {\n            return Math.floor(samples / window.vbaSound.getSampleRate() * 1000) + \"ms\";\n        }\n\n        var romCode = window.vbaSaves.getRomCode();\n        var sumCycles = vbaPerf.cyclesThisSecond.reduce(function (a, b) {\n            return a + b;\n        }, 0);\n        var maxAudioSamples = vbaPerf.spareAudioSamplesThisSecond.reduce(function (a, b) {\n            return Math.max(a, b);\n        }, 0);\n        var minAudioSamples = vbaPerf.spareAudioSamplesThisSecond.reduce(function (a, b) {\n            return Math.min(a, b);\n        }, Infinity);\n        if (minAudioSamples === Infinity) {\n            minAudioSamples = 0;\n        }\n        var audioDeadlineResults = vbaPerf.audioDeadlineResultsThisSecond.reduce(function (a, b) {\n            if (b) {\n                a.hit++;\n            } else {\n                a.miss++;\n            }\n            return a;\n        }, {\n            hit: 0,\n            miss: 0\n        });\n        var renderDeadlineResults = vbaPerf.renderDeadlineResultsThisSecond.reduce(function (a, b) {\n            if (b) {\n                a.hit++;\n            } else {\n                a.miss++;\n            }\n            return a;\n        }, {\n            hit: 0,\n            miss: 0\n        });\n        // document.querySelector(\".perf-game\").innerText = (romCode ? (romCode + \" \") : \"\") + require(\"./romCodeToEnglish\")(romCode);\n        // document.querySelector(\".perf-timesteps\").innerText = Math.round(vbaPerf.cyclesThisSecond.length / (deltaTime / 1000));\n        // document.querySelector(\".perf-percentage\").innerText = (sumCycles / (GBA_CYCLES_PER_SECOND * (deltaTime / 1000)) * 100).toFixed(1) + \"%\";\n        // document.querySelector(\".perf-audio-lag\").innerText = samplesToMillis(minAudioSamples) + \" - \" + samplesToMillis(maxAudioSamples);\n        // document.querySelector(\".perf-audio-deadlines\").innerText = audioDeadlineResults.hit + \" / \" + (audioDeadlineResults.hit + audioDeadlineResults.miss);\n        // document.querySelector(\".perf-render-deadlines\").innerText = renderDeadlineResults.hit + \" / \" + (renderDeadlineResults.hit + renderDeadlineResults.miss);\n\n    } else {\n\n        // document.querySelector(\".perf\").style.display = \"none\";\n\n    }\n\n\n    vbaPerf.cyclesThisSecond.length = 0;\n    vbaPerf.deltaTimesThisSecond.length = 0;\n    vbaPerf.renderDeadlineResultsThisSecond.length = 0;\n    vbaPerf.spareAudioSamplesThisSecond.length = 0;\n    vbaPerf.audioDeadlineResultsThisSecond.length = 0;\n\n    window.perfTimer = setTimeout(window.doPerfCalc, 1000);\n};\n\nwindow.togglePause = function () {\n    if (!isRunning) {\n        return;\n    }\n    isPaused = !isPaused;\n};\n\nwindow.scheduleStop = function () {\n    isRunning = false;\n};\n\n//# sourceURL=webpack:///./appEntry.js?");

/***/ }),

/***/ "./gameDbLoader.js!./gameDb.xml":
/*!**************************************!*\
  !*** ./gameDbLoader.js!./gameDb.xml ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = {\"BPEE\":[\"Pokemon - Emerald Version\",{\"flash\":{\"size\":\"131072\"},\"hasRTC\":true}],\"BPRE\":[\"Pokemon - Fire Red Version\",{\"flash\":{\"size\":\"131072\"}}],\"BPGE\":[\"Pokemon - Leaf Green Version\",{\"flash\":{\"size\":\"131072\"}}],\"AXVE\":[\"Pokemon - Ruby Version\",{\"flash\":{\"size\":\"131072\"},\"hasRTC\":true}],\"AXPE\":[\"Pokemon - Sapphire Version\",{\"flash\":{\"size\":\"131072\"},\"hasRTC\":true}]}\n\n//# sourceURL=webpack:///./gameDb.xml?./gameDbLoader.js");

/***/ }),

/***/ "./node_modules/webpack/buildin/amd-define.js":
/*!***************************************!*\
  !*** (webpack)/buildin/amd-define.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = function() {\r\n\tthrow new Error(\"define cannot be used indirect\");\r\n};\r\n\n\n//# sourceURL=webpack:///(webpack)/buildin/amd-define.js?");

/***/ }),

/***/ "./node_modules/webpack/buildin/amd-options.js":
/*!****************************************!*\
  !*** (webpack)/buildin/amd-options.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/* WEBPACK VAR INJECTION */(function(__webpack_amd_options__) {/* globals __webpack_amd_options__ */\r\nmodule.exports = __webpack_amd_options__;\r\n\n/* WEBPACK VAR INJECTION */}.call(this, {}))\n\n//# sourceURL=webpack:///(webpack)/buildin/amd-options.js?");

/***/ }),

/***/ "./romCodeToEnglish.js":
/*!*****************************!*\
  !*** ./romCodeToEnglish.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("(function () {\n    \"use strict\";\n    \n    var data = __webpack_require__(/*! !./gameDbLoader.js!./gameDb.xml */ \"./gameDbLoader.js!./gameDb.xml\");\n\n    module.exports = function romCodeToEnglish (romCode) {\n        if (!data[romCode]) {\n            return \"Unknown Game\";\n        }\n        return escapeHtml(data[romCode][0]);\n    }\n\n}());\n\n\n//# sourceURL=webpack:///./romCodeToEnglish.js?");

/***/ }),

/***/ "./saveAs.js":
/*!*******************!*\
  !*** ./saveAs.js ***!
  \*******************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* FileSaver.js\n * A saveAs() FileSaver implementation.\n * 1.3.2\n * 2016-06-16 18:25:19\n *\n * By Eli Grey, http://eligrey.com\n * License: MIT\n *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n */\n\n/*global self */\n/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\nvar saveAs = saveAs || (function(view) {\n\t\"use strict\";\n\t// IE <10 is explicitly unsupported\n\tif (typeof view === \"undefined\" || typeof navigator !== \"undefined\" && /MSIE [1-9]\\./.test(navigator.userAgent)) {\n\t\treturn;\n\t}\n\tvar\n\t\t  doc = view.document\n\t\t  // only get URL when necessary in case Blob.js hasn't overridden it yet\n\t\t, get_URL = function() {\n\t\t\treturn view.URL || view.webkitURL || view;\n\t\t}\n\t\t, save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n\t\t, can_use_save_link = \"download\" in save_link\n\t\t, click = function(node) {\n\t\t\tvar event = new MouseEvent(\"click\");\n\t\t\tnode.dispatchEvent(event);\n\t\t}\n\t\t, is_safari = /constructor/i.test(view.HTMLElement)\n\t\t, is_chrome_ios =/CriOS\\/[\\d]+/.test(navigator.userAgent)\n\t\t, throw_outside = function(ex) {\n\t\t\t(view.setImmediate || view.setTimeout)(function() {\n\t\t\t\tthrow ex;\n\t\t\t}, 0);\n\t\t}\n\t\t, force_saveable_type = \"application/octet-stream\"\n\t\t// the Blob API is fundamentally broken as there is no \"downloadfinished\" event to subscribe to\n\t\t, arbitrary_revoke_timeout = 1000 * 40 // in ms\n\t\t, revoke = function(file) {\n\t\t\tvar revoker = function() {\n\t\t\t\tif (typeof file === \"string\") { // file is an object URL\n\t\t\t\t\tget_URL().revokeObjectURL(file);\n\t\t\t\t} else { // file is a File\n\t\t\t\t\tfile.remove();\n\t\t\t\t}\n\t\t\t};\n\t\t\tsetTimeout(revoker, arbitrary_revoke_timeout);\n\t\t}\n\t\t, dispatch = function(filesaver, event_types, event) {\n\t\t\tevent_types = [].concat(event_types);\n\t\t\tvar i = event_types.length;\n\t\t\twhile (i--) {\n\t\t\t\tvar listener = filesaver[\"on\" + event_types[i]];\n\t\t\t\tif (typeof listener === \"function\") {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlistener.call(filesaver, event || filesaver);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\tthrow_outside(ex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t, auto_bom = function(blob) {\n\t\t\t// prepend BOM for UTF-8 XML and text/* types (including HTML)\n\t\t\t// note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n\t\t\tif (/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n\t\t\t\treturn new Blob([String.fromCharCode(0xFEFF), blob], {type: blob.type});\n\t\t\t}\n\t\t\treturn blob;\n\t\t}\n\t\t, FileSaver = function(blob, name, no_auto_bom) {\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\t// First try a.download, then web filesystem, then object URLs\n\t\t\tvar\n\t\t\t\t  filesaver = this\n\t\t\t\t, type = blob.type\n\t\t\t\t, force = type === force_saveable_type\n\t\t\t\t, object_url\n\t\t\t\t, dispatch_all = function() {\n\t\t\t\t\tdispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\n\t\t\t\t}\n\t\t\t\t// on any filesys errors revert to saving with object URLs\n\t\t\t\t, fs_error = function() {\n\t\t\t\t\tif ((is_chrome_ios || (force && is_safari)) && view.FileReader) {\n\t\t\t\t\t\t// Safari doesn't allow downloading of blob urls\n\t\t\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\t\treader.onloadend = function() {\n\t\t\t\t\t\t\tvar url = is_chrome_ios ? reader.result : reader.result.replace(/^data:[^;]*;/, 'data:attachment/file;');\n\t\t\t\t\t\t\tvar popup = view.open(url, '_blank');\n\t\t\t\t\t\t\tif(!popup) view.location.href = url;\n\t\t\t\t\t\t\turl=undefined; // release reference before dispatching\n\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\tdispatch_all();\n\t\t\t\t\t\t};\n\t\t\t\t\t\treader.readAsDataURL(blob);\n\t\t\t\t\t\tfilesaver.readyState = filesaver.INIT;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// don't create more object URLs than needed\n\t\t\t\t\tif (!object_url) {\n\t\t\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\t\t}\n\t\t\t\t\tif (force) {\n\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar opened = view.open(object_url, \"_blank\");\n\t\t\t\t\t\tif (!opened) {\n\t\t\t\t\t\t\t// Apple does not allow window.open, see https://developer.apple.com/library/safari/documentation/Tools/Conceptual/SafariExtensionGuide/WorkingwithWindowsandTabs/WorkingwithWindowsandTabs.html\n\t\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t}\n\t\t\t;\n\t\t\tfilesaver.readyState = filesaver.INIT;\n\n\t\t\tif (can_use_save_link) {\n\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tsave_link.href = object_url;\n\t\t\t\t\tsave_link.download = name;\n\t\t\t\t\tclick(save_link);\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfs_error();\n\t\t}\n\t\t, FS_proto = FileSaver.prototype\n\t\t, saveAs = function(blob, name, no_auto_bom) {\n\t\t\treturn new FileSaver(blob, name || blob.name || \"download\", no_auto_bom);\n\t\t}\n\t;\n\t// IE 10+ (native saveAs)\n\tif (typeof navigator !== \"undefined\" && navigator.msSaveOrOpenBlob) {\n\t\treturn function(blob, name, no_auto_bom) {\n\t\t\tname = name || blob.name || \"download\";\n\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\treturn navigator.msSaveOrOpenBlob(blob, name);\n\t\t};\n\t}\n\n\tFS_proto.abort = function(){};\n\tFS_proto.readyState = FS_proto.INIT = 0;\n\tFS_proto.WRITING = 1;\n\tFS_proto.DONE = 2;\n\n\tFS_proto.error =\n\tFS_proto.onwritestart =\n\tFS_proto.onprogress =\n\tFS_proto.onwrite =\n\tFS_proto.onabort =\n\tFS_proto.onerror =\n\tFS_proto.onwriteend =\n\t\tnull;\n\n\treturn saveAs;\n}(\n\t   typeof self !== \"undefined\" && self\n\t|| typeof window !== \"undefined\" && window\n\t|| this.content\n));\n// `self` is undefined in Firefox for Android content script context\n// while `this` is nsIContentFrameMessageManager\n// with an attribute `content` that corresponds to the window\n\nif (typeof module !== \"undefined\" && module.exports) {\n  module.exports.saveAs = saveAs;\n} else if ((\"function\" !== \"undefined\" && __webpack_require__(/*! !webpack amd define */ \"./node_modules/webpack/buildin/amd-define.js\") !== null) && (__webpack_require__(/*! !webpack amd options */ \"./node_modules/webpack/buildin/amd-options.js\") !== null)) {\n  !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function() {\n    return saveAs;\n  }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n}\n\n//# sourceURL=webpack:///./saveAs.js?");

/***/ })

/******/ });